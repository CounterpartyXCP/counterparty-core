from counterpartycore.lib.api.api_v1 import APIError

API_V1_VECTOR = {
    "api_v1": {
        "get_rows": [
            {
                "in": ("balances", None, "AND", None, None, None, None, None, 1000, 0, True),
                "out": None,
            },
            {
                "in": ("balances", None, "barfoo", None, None, None, None, None, 1000, 0, True),
                "error": (APIError, "Invalid filter operator (OR, AND)"),
            },
            {
                "in": (None, None, "AND", None, None, None, None, None, 1000, 0, True),
                "error": (APIError, "Unknown table"),
            },
            {
                "in": (
                    "balances",
                    None,
                    "AND",
                    None,
                    "barfoo",
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "Invalid order direction (ASC, DESC)"),
            },
            {
                "in": ("balances", None, "AND", None, None, None, None, None, 1000.0, 0, True),
                "error": (APIError, "Invalid limit"),
            },
            {
                "in": ("balances", None, "AND", None, None, None, None, None, 1001, 0, True),
                "error": (APIError, "Limit should be lower or equal to 1000"),
            },
            {
                "in": ("balances", None, "AND", None, None, None, None, None, 1000, 0.0, True),
                "error": (APIError, "Invalid offset"),
            },
            {
                "in": ("balances", None, "AND", "*", None, None, None, None, 1000, 0, True),
                "error": (APIError, "Invalid order_by, must be a field name"),
            },
            {
                "in": ("balances", [0], "AND", None, None, None, None, None, 1000, 0, True),
                "error": (APIError, "Unknown filter type"),
            },
            {
                "in": (
                    "balances",
                    {"field": "bar", "op": "="},
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "A specified filter is missing the 'value' field"),
            },
            {
                "in": (
                    "balances",
                    {"field": "bar", "op": "=", "value": {}},
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "Invalid value for the field 'bar'"),
            },
            {
                "in": (
                    "balances",
                    {"field": "bar", "op": "=", "value": [0, 2]},
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "Invalid value for the field 'bar'"),
            },
            {
                "in": (
                    "balances",
                    {"field": "bar", "op": "AND", "value": 0},
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "Invalid operator for the field 'bar'"),
            },
            {
                "in": (
                    "balances",
                    {"field": "bar", "op": "=", "value": 0, "case_sensitive": 0},
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "case_sensitive must be a boolean"),
            },
            {
                "comment": "standard send with no memo",
                "in": (
                    "sends",
                    [{"field": "block_index", "op": "=", "value": "310496"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 497,
                        "tx_hash": "84b4bd0c150568ee571bf8ed214bea317df588eaebea3daa91bea38103fedf11",
                        "block_index": 310496,
                        "source": "mnfAHmddVibnZNSkh8DvKaQoiEfNsxjXzH",
                        "destination": "mqPCfvqTfYctXMUfmniXeG2nyaN8w6tPmj",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 92945878046,
                        "status": "valid",
                        "memo": None,
                        "memo_hex": None,
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
            {
                "comment": "with memo",
                "in": (
                    "sends",
                    [{"field": "block_index", "op": "=", "value": "310481"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 482,
                        "tx_hash": "7821095a0f835691e8c3989d90542a16b326d77323408082e9d0ac4c3d04e121",
                        "block_index": 310481,
                        "source": "mn6q3dS2EnDUx3bmyWc6D4szJNVGtaR7zc",
                        "destination": "mtQheFaSfWELRB2MyMBaiWjdDm6ux9Ezns",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 100000000,
                        "status": "valid",
                        "memo": "hello",
                        "memo_hex": "68656c6c6f",
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
            {
                "comment": "search by memo (text)",
                "in": (
                    "sends",
                    [{"field": "memo", "op": "=", "value": "hello"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 482,
                        "tx_hash": "7821095a0f835691e8c3989d90542a16b326d77323408082e9d0ac4c3d04e121",
                        "block_index": 310481,
                        "source": "mn6q3dS2EnDUx3bmyWc6D4szJNVGtaR7zc",
                        "destination": "mtQheFaSfWELRB2MyMBaiWjdDm6ux9Ezns",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 100000000,
                        "status": "valid",
                        "memo": "hello",
                        "memo_hex": "68656c6c6f",
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
            {
                "comment": "search by memo (LIKE text)",
                "in": (
                    "sends",
                    [{"field": "memo", "op": "LIKE", "value": "%ell%"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 482,
                        "tx_hash": "7821095a0f835691e8c3989d90542a16b326d77323408082e9d0ac4c3d04e121",
                        "block_index": 310481,
                        "source": "mn6q3dS2EnDUx3bmyWc6D4szJNVGtaR7zc",
                        "destination": "mtQheFaSfWELRB2MyMBaiWjdDm6ux9Ezns",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 100000000,
                        "status": "valid",
                        "memo": "hello",
                        "memo_hex": "68656c6c6f",
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
            {
                "comment": "search by memo hex",
                "in": (
                    "sends",
                    [{"field": "memo_hex", "op": "=", "value": "68656C6C6F"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 482,
                        "tx_hash": "7821095a0f835691e8c3989d90542a16b326d77323408082e9d0ac4c3d04e121",
                        "block_index": 310481,
                        "source": "mn6q3dS2EnDUx3bmyWc6D4szJNVGtaR7zc",
                        "destination": "mtQheFaSfWELRB2MyMBaiWjdDm6ux9Ezns",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 100000000,
                        "status": "valid",
                        "memo": "hello",
                        "memo_hex": "68656c6c6f",
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
            {
                "comment": "search by memo hex",
                "in": (
                    "sends",
                    [{"field": "memo_hex", "op": "=", "value": "68656c6c6f"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 482,
                        "tx_hash": "7821095a0f835691e8c3989d90542a16b326d77323408082e9d0ac4c3d04e121",
                        "block_index": 310481,
                        "source": "mn6q3dS2EnDUx3bmyWc6D4szJNVGtaR7zc",
                        "destination": "mtQheFaSfWELRB2MyMBaiWjdDm6ux9Ezns",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 100000000,
                        "status": "valid",
                        "memo": "hello",
                        "memo_hex": "68656c6c6f",
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
            {
                "comment": "search with invalid memo hex",
                "in": (
                    "sends",
                    [{"field": "memo_hex", "op": "=", "value": "badx"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "error": (APIError, "Invalid memo_hex value"),
            },
            {
                "comment": "search by memo hex",
                "in": (
                    "sends",
                    [{"field": "memo_hex", "op": "=", "value": "fade0001"}],
                    "AND",
                    None,
                    None,
                    None,
                    None,
                    None,
                    1000,
                    0,
                    True,
                ),
                "out": [
                    {
                        "tx_index": 483,
                        "tx_hash": "df7c7591bbfffc8c7e172e90effdff069c9742c13ae7b1066214bcbb9c2f6883",
                        "block_index": 310482,
                        "source": "mtQheFaSfWELRB2MyMBaiWjdDm6ux9Ezns",
                        "destination": "mn6q3dS2EnDUx3bmyWc6D4szJNVGtaR7zc",
                        "source_address": None,
                        "destination_address": None,
                        "asset": "XCP",
                        "quantity": 100000000,
                        "status": "valid",
                        "memo": "",
                        "memo_hex": "fade0001",
                        "msg_index": 0,
                        "fee_paid": 0,
                        "send_type": "send",
                    }
                ],
            },
        ],
    },
}
